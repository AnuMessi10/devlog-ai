---
alwaysApply: true
---
# Cursor Rules â€” Devlog AI

## âœ… Project Architecture

| Folder | Responsibility |
|--------|----------------|
src/app | Next.js routing only (no UI or business logic) |
src/screens | Page-level UI (views) â€” `.tsx` + `.module.scss` |
src/components | Shared UI primitives (shadcn, generic UI) |
src/services | Business logic & API functions (auth, logs, projects) |
src/hooks | Global reusable hooks (e.g. useAuth, useMediaQuery) |
src/stores | Zustand global state |
src/layouts | Layout components (dashboard shell) |
src/providers | Theme, toast, session providers |
src/lib | Infra: prisma, http client, utils, schemas |
src/styles | Global styles |
src/types | Global TypeScript types |

âœ… Screens import services/hooks/components  
âœ… Pages import screens  
âœ… Components do not import screens  
âœ… Services do not import UI or screens  
âœ… lib never imports app/screens/services/hooks

app â†’ screens â†’ services/hooks/components â†’ lib

---

## âŒ Do NOT

- âŒ Do not auto-introduce atomic folders (atoms/molecules/organisms)
- âŒ Do not generate barrel exports (`index.ts` re-export patterns)
- âŒ Do not move code between layers automatically
- âŒ Do not put business logic inside `src/app` or `src/screens`

---

## âœ… File Placement Rules

**Routes**
- `src/app/**/page.tsx` â†’ only render screen components

**Screens**
- `src/screens/**` â†’ page UI only, may import styles

**Components**
- `src/components/**` â†’ shadcn primitives + reusable UI only

**Services**
- `src/services/{domain}/` â†’ business logic + API calls
- Return plain data objects, no UI logic

**Hooks**
- Only global hooks belong in `src/hooks/**`

**Stores**
- Only zustand stores in `src/stores/**`

**lib**
- prisma, http client, utils, schemas â€” infrastructure only

---

## ðŸŽ¨ UI & Styling Rules

- Tailwind for layout & spacing
- SCSS Modules allowed for screen-specific styling only
- Components must support accessibility (focus, ARIA when needed)

---

## ðŸ” Client/Server Rules

- Mark client modules with `"use client"` only when needed
- Services may call API routes or Prisma via `lib`

> Not all services need `"use server"` â€” only when explicitly requested.

---

## âš™ï¸ Behavior Expected from Cursor

- Ask before creating new top-level folders
- Ask before reorganizing code
- Ask when unsure where a file belongs:

> "Should this be in screens, components, services, hooks, stores, or lib?"

- Follow the layer hierarchy strictly
- Do not reintroduce barrels or feature folders

---

## âœ… Dev Flow Expectations

Before creating new pages/components/services, Cursor should:

1) Confirm folder placement
2) Use absolute imports (`@/`)
3) Tailwind first, but components can co-locate .scss when it improves clarity or encapsulation
4) Keep file names consistent (`index.tsx` inside screen/component folders)

---

## ðŸ§ª Quality

- Use TypeScript
- Validate input via Zod schemas in `src/lib/schemas/*`
- Wrap async calls with try/catch
- Use `sonner` for toast UX

---

This file represents the **final architecture rules**.  
Cursor should *not* deviate from them without explicit approval.
